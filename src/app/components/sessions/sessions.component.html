<div class="shell">
  <div class="main">
    <md-card class="sessions">
      <md-card-header>
        <div class="header">
          <div>Mentorship Sessions</div>
          <div>
            <button *ngIf="!isMentorshipComplete()" md-raised-button class="md-btn-andela-pink" (click)="emitLogAction()">LOG SESSION</button>
            <button *ngIf="isMentorshipComplete()" md-raised-button class="md-btn-andela-pink" [disabled]="true">MENTORSHIP COMPLETED</button>
          </div>
        </div>
      </md-card-header>
      <md-card-content *ngIf="sessions?.length > 0">
        <div class="session-list">
          <div class="session-row" *ngIf="loading.sessionsLoading">
            <md-spinner></md-spinner>
          </div>
          <div class="session-row" *ngFor="let session of sessions">
            <div class="col-date">
              {{ session?.date | sessionDate : 'YYYY-MM-DD' : 'dddd, MMMM Do, YYYY' }}
              <span class="pairing-time">
                  ({{ session?.start_time  | sessionDate : 'hh:mm' : 'h:mm A'}} - {{ session?.end_time | sessionDate : 'hh:mm' : 'h:mm A'}})
                </span>
            </div>
            <div class="col-logged" *ngIf="updater === 'mentee'">
              <button class="chip rate update-btn" [disabled]="session.rating_count" *ngIf="session.mentor_approved && session.mentee_approved"
              (click)="openRateSessionDialog(session)">{{ session.rating_count ? "RATED" : "RATE" }}</button>
              <div class="chip update-btn" *ngIf="session?.mentee_approved === null" (click)="emitApproveAction(session.id)">Approve Session</div>
              <div class="chip reject-btn" *ngIf="session?.mentee_approved === null" (click)="openRejectSessionDialog(session.id)">Reject Session</div>
              <div class="chip green" *ngIf="session?.mentor_approved">MENTOR LOGGED</div>
              <div class="chip-accepted-rejected red" *ngIf="session?.mentor_approved === false">MENTOR REJECTED</div>
              <div class="chip-accepted-rejected red" *ngIf="session?.mentee_approved === false">MENTEE REJECTED</div>
              <div class="chip" *ngIf="session?.mentor_approved === null">MENTOR PENDING</div>
              <div class="chip green" *ngIf="session?.mentee_approved">MENTEE LOGGED</div>
            </div>
            <div class="col-logged" *ngIf="updater === 'mentor'">
              <div class="chip update-btn" *ngIf="session?.mentor_approved === null" (click)="emitApproveAction(session.id)">Approve Session</div>
              <div class="chip reject-btn" *ngIf="session?.mentor_approved === null" (click)="openRejectSessionDialog(session.id)">Reject Session</div>
              <div class="chip green" *ngIf="session?.mentor_approved">MENTOR LOGGED</div>
              <div class="chip-accepted-rejected red" *ngIf="session?.mentee_approved === false">MENTEE REJECTED</div>
              <div class="chip-accepted-rejected red" *ngIf="session?.mentor_approved === false">MENTOR REJECTED</div>
              <div class="chip" *ngIf="session?.mentee_approved === null">MENTEE PENDING</div>
              <div class="chip-accepted-rejected green" *ngIf="session?.mentee_approved">MENTEE LOGGED</div>
            </div>
          </div>
        </div>
      </md-card-content>
    </md-card>
  </div>
  <div class="side-info">
    <md-card>
      <md-card-content>
        <span class="title">Total Sessions</span>
        <span class="content">{{ sessionDetails?.totalSessions }}</span>
      </md-card-content>
    </md-card>
    <md-card>
      <md-card-content>
        <span class="title">Sessions Logged</span>
        <span class="content">{{ sessionDetails?.totalSessionsLogged }}</span>
      </md-card-content>
    </md-card>
    <md-card>
      <md-card-content>
        <span class="title">Awaiting Confirmation</span>
        <span class="content">{{ sessionDetails?.totalSessionsPending }}</span>
      </md-card-content>
    </md-card>
    <md-card>
      <md-card-content>
        <span class="title">Sessions Unlogged</span>
        <span class="content">{{ sessionDetails?.totalSessionsUnlogged }}</span>
      </md-card-content>
    </md-card>
  </div>
</div>
