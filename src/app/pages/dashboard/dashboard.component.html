<app-header>

  <div id="app-container">
    <div class="app-partial-outlet">
      <div class="and-list-filter-container">
        <div class="and-filter">
          <app-filters [filtersObject]="dashBoardFilters" (onChecked)="dashboardFilter($event)"></app-filters>
        </div>
        <div class="and-list" *ngIf="requests?.length > 0">
          <div class="and-table-container">
            <!--Table Header-->
            <div class="and-table-head-row">
              <div class="and-table-heading and-table-col-40">
                REQUESTS
              </div>
              <div class="and-table-heading and-table-col-30">
                PRIMARY SKILLS
              </div>
              <div class="and-table-heading and-table-col-20">
                INTERESTED
              </div>
              <div class="and-table-heading and-table-col-10">
                STATUS
              </div>
            </div>

            <div *ngIf="loading" class="loader">
              <md-spinner></md-spinner>
            </div>

            <!--Table Row-->
            <div class="and-table-row"
              *ngFor="let request of (requests | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage,
              totalItems: totalItems })"

              routerLink="/requests/{{request.id}}"
            >

              <div class="and-table-content and-table-col-40">
                <p>{{ request.title }}</p>
              </div>

              <div class="and-table-content and-table-col-30">
                <p>
                  {{ helper.joinSkills(request.request_skills, 'primary') }}
                </p>
              </div>

              <div *ngIf="request.interested" class="and-table-content and-table-col-20">
                <p>{{ request.interested.length }} Interested</p>
              </div>

              <div *ngIf="!request.interested" class="and-table-content and-table-col-20">No Interested</div>

              <div class="and-table-content and-table-col-10">
                <p>{{ request.status.toUpperCase() }}</p>
              </div>
            </div>
          </div>
          <app-pagination (pageChange)="getRequests($event)"></app-pagination>
        </div>
        <div class="no-result" *ngIf="requests?.length == 0">
          <h2>No such request with this primary skill exists</h2>
        </div>
      </div>
    </div>
  </div>

</app-header>
