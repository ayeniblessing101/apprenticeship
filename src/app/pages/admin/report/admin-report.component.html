<app-header>
  <div class="report-header">
    <div class="left">
      <span class="title">
        Mentorship Report
      </span>
      <span class="dropdown">
        <md-select class="timePicker" placeholder="All Locations" (change)="reloadReport($event)">
          <md-option value="{{ location }}" *ngFor="let location of getDropdownOptions('locations')">{{ location
            }}</md-option>
        </md-select>
        <md-select class="period" placeholder="All time" (change)="reloadReport($event)">
          <md-option value="{{ period }}" *ngFor="let period of getDropdownOptions('periods')">{{ period
            }}</md-option>
        </md-select>
        <div class="chart">
          <md-card *ngIf="loading">
            <md-spinner></md-spinner>
          </md-card>
          <md-card *ngIf="!loading">
            <md-card-content *ngIf="!skillsPercentage.length">
                No requests made within this period
            </md-card-content>
              <md-card-content>
                <app-multiple-bar-chart *ngIf="skillsPercentage.length>0" [skills]="skillsPercentage" [status]="allStatuses"></app-multiple-bar-chart>
              </md-card-content>
            </md-card>
        </div>
      </span>
    </div>
    <div class="right">
      <span class="download" (click)="downloadReport()">Download Report <md-icon>get_app</md-icon></span>
</div>
    <div class="side-info">
      <md-card>
        <md-card-content>
          <span class="title">Requests Made</span>
          <span class="content">
            {{ totalRequests }}
          </span>
        </md-card-content>
      </md-card>
      <md-card>
        <md-card-content>
          <span class="title">Completed Requests</span>
          <span class="content">
            {{ totalCompletedRequests }}
          </span>
        </md-card-content>
      </md-card>
      <md-card>
        <md-card-content>
          <span class="title">Open Requests</span>
          <span class="content">
            {{ totalOpenRequests }}
          </span>
        </md-card-content>
      </md-card>
      <md-card>
        <md-card-content>
          <span class="title">Atm</span>
          <span class="content">
            {{ averageTimeToMatch }}
          </span>
        </md-card-content>
      </md-card>
    </div>
    <div class="side-info">
      <md-card>
        <md-card-content>
          <span class="title">Matched Requests</span>
          <span class="content">
            {{ totalMatchedRequests }}
          </span>
        </md-card-content>
      </md-card>
      <md-card>
        <md-card-content>
          <span class="title">Cancelled Requests</span>
          <span class="content">
            {{ totalCancelledRequests }}
          </span>
        </md-card-content>
      </md-card>
      <md-card>
        <md-card-content>
          <span class="title">Sessions Completed</span>
          <span class="content">
            {{ sessionsCompleted }}
          </span>
        </md-card-content>
      </md-card>
    </div>
  </div>
</app-header>
